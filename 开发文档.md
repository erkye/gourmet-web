# èœè°±åˆ†äº«å°ç¨‹åºå¼€å‘æ–‡æ¡£

## é¡¹ç›®æ¦‚è§ˆ

é¡¹ç›®åˆ†ä¸ºå‰ç«¯ï¼ˆå¾®ä¿¡å°ç¨‹åºç«¯ï¼‰å’Œåç«¯é¡¹ç›®ï¼Œå‰ç«¯é¡¹ç›®åç§°ä¸º [gourmet-web](https://gitee.com/lifazhan/gourmet-web)ï¼Œåç«¯é¡¹ç›®åç§°ä¸º [gourmet-api](https://gitee.com/lifazhan/gourmet-api)ã€‚

é¡¹ç›®ç»“æ„ä¸ºå‰åç«¯åˆ†ç¦»ç»“æ„ï¼Œå‰åç«¯ä½¿ç”¨jsonæ ¼å¼è¿›è¡Œäº¤äº’ã€‚

æ•°æ®åº“ä½¿ç”¨MySQL 8.0ã€‚

### å¾®ä¿¡å°ç¨‹åºç«¯ï¼ˆä»…åˆ—ä¸¾ï¼Œè‡ªè¡Œç™¾åº¦çå¹ï¼‰

* å¾®ä¿¡å°ç¨‹åºç«¯ä½¿ç”¨åŸç”Ÿå¼€å‘æ¡†æ¶
* ä½¿ç”¨webpackç®¡ç†é¡¹ç›®
* ä½¿ç”¨npmç®¡ç†é¡¹ç›®ä¾èµ–
* é¡¹ç›®å¼€å‘çš„æ‰€æœ‰å›¾æ ‡èµ„æºå‡ä½¿ç”¨[é˜¿é‡Œå·´å·´çŸ¢é‡å›¾åº“](https://www.iconfont.cn/)
* ä½¿ç”¨axioså‘èµ·æœåŠ¡ç«¯è¯·æ±‚
* è°ƒè¯•åŸºæœ¬åº“é€‰æ‹©2.13.1
* ä½¿ç”¨gitè¿›è¡Œç‰ˆæœ¬æ§åˆ¶

### æœåŠ¡ç«¯ï¼ˆä¸æ˜¯é‡ç‚¹ï¼Œæ”¾ä¸Šå‡‘å­—æ•°ï¼‰

* ä½¿ç”¨Javaå¼€å‘ï¼Œæ¡†æ¶ä½¿ç”¨Spring Boot + MyBatis

### æ•°æ®åº“

ä½¿ç”¨MySQL 8.0

**è¡¨æ¦‚è§ˆ**ï¼ˆ6ï¼‰

* èœè°±ä¸»è¡¨
* ç”¨æ–™è¡¨
* èœè°±æµè§ˆè®°å½•è¡¨
* åˆ†ç±»è¡¨ï¼ˆä¸¤çº§æˆ–ä¸‰çº§åˆ†ç±»ï¼‰
* ç”¨æˆ·è¡¨
* ç”¨æˆ·æ”¶è—è¡¨

**è¡¨è¯¦ç»†**

* èœè°±ä¸»è¡¨ï¼ˆgourmet_menuï¼‰

  | å­—æ®µå    | ç±»å‹    | å¤‡æ³¨                     |
  | --------- | ------- | ------------------------ |
  | id        | int     | ä¸»é”®ï¼Œè‡ªå¢               |
  | img       | varchar | èœè°±å›¾ç‰‡url              |
  | title     | varchar | èœè°±æ ‡é¢˜                 |
  | introd    | varchar | èœè°±ç®€ä»‹                 |
  | content   | text    | èœè°±å†…å®¹ï¼ˆhtmlï¼‰         |
  | nickname  | varchar | ä½œè€…æ˜µç§°                 |
  | recommend | tinyint | æ˜¯å¦æ˜¯æ¨èï¼ˆé¦–é¡µè½®æ’­å›¾ï¼‰ |

* ç”¨æ–™è¡¨ï¼ˆgourmet_materialsï¼‰

  | å­—æ®µå   | ç±»å‹    | å¤‡æ³¨                 |
  | -------- | ------- | -------------------- |
  | id       | int     | ä¸»é”®ï¼Œè‡ªå¢           |
  | menu_id  | int     | å¤–é”®ï¼ˆèœè°±ä¸»è¡¨çš„idï¼‰ |
  | name     | varchar | ææ–™åç§°             |
  | quantity | varchar | ç”¨é‡                 |

* èœè°±æµè§ˆè®°å½•è¡¨ï¼ˆgourmet_menu_scanï¼‰

  | å­—æ®µå    | ç±»å‹ | å¤‡æ³¨                 |
  | --------- | ---- | -------------------- |
  | id        | int  | ä¸»é”®ï¼Œè‡ªå¢           |
  | menu_id   | int  | å¤–é”®ï¼ˆèœè°±ä¸»è¡¨çš„idï¼‰ |
  | pageviews | int  | æµè§ˆé‡               |
  | favorites | int  | æ”¶è—é‡               |

* åˆ†ç±»è¡¨ï¼ˆgourmet_classifyï¼‰

  | å­—æ®µå    | ç±»å‹    | å¤‡æ³¨       |
  | --------- | ------- | ---------- |
  | id        | int     | ä¸»é”®ï¼Œè‡ªå¢ |
  | name      | varchar | åˆ†ç±»åç§°   |
  | parent_id | int     | çˆ¶çº§åˆ†ç±»id |

* ç”¨æˆ·è¡¨ï¼ˆgourmet_userï¼‰

  | å­—æ®µå    | ç±»å‹    | å¤‡æ³¨       |
  | --------- | ------- | ---------- |
  | id        | int     | ä¸»é”®ï¼Œè‡ªå¢ |
  | nick_name | varchar | ç”¨æˆ·æ˜µç§°   |

* ç”¨æˆ·æ”¶è—è¡¨ï¼ˆgourmet_starï¼‰ï¼ˆ**è¿™ä¸ªè¡¨å†™ç€å†™ç€å‘ç°å¥½åƒæ²¡å•¥ç”¨...**ï¼‰

  | å­—æ®µå  | ç±»å‹ | å¤‡æ³¨                         |
  | ------- | ---- | ---------------------------- |
  | user_id | int  | åŒä¸»é”®ï¼Œç”¨æˆ·è¡¨å¤–é”®ï¼Œç”¨æˆ·è¡¨id |
  | menu_id | int  | åŒä¸»é”®ï¼Œèœè°±è¡¨å¤–é”®ï¼Œèœè°±è¡¨id |

### æ•°æ®åº“åˆ›å»º

**æ•°æ®åº“å’ŒæœåŠ¡ç«¯é¡¹ç›®å‡éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œä¸‹é¢è¿™äº›åªæ˜¯ç”¨æ¥å†™æ–‡æ¡£çš„ï¼Œæ— éœ€åˆ›å»ºæ•°æ®åº“ï¼ï¼ï¼**

![image-20201008191326317](https://gitee.com//lifazhan/mypics/raw/master/img/20201008191335.png)

**æ•°æ®åº“åç§°ï¼šgourmet**

**å­—ç¬¦é›†ï¼šutf8mb4**

**æ’åºè§„åˆ™ï¼šutf8mb4_general_ci**



**æ•°æ®åº“åˆ›å»ºSQLè¯­å¥**

* â€‹	ç”¨æˆ·è¡¨ gourmet_user

  ```sql
  CREATE TABLE `gourmet_user` (
    `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®ï¼Œè‡ªå¢',
    `nick_name` varchar(255) COLLATE utf8mb4_general_ci NOT NULL COMMENT 'ç”¨æˆ·æ˜µç§°',
    PRIMARY KEY (`id`)
  ) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
  ```

* èœè°±è¡¨ gourmet_menu

  ```sql
  CREATE TABLE `gourmet_menu` (
    `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®ï¼Œè‡ªå¢',
    `img` varchar(255) COLLATE utf8mb4_general_ci NOT NULL COMMENT 'èœè°±å›¾ç‰‡url',
    `title` varchar(255) COLLATE utf8mb4_general_ci NOT NULL COMMENT 'èœè°±æ ‡é¢˜',
    `introd` varchar(255) COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT 'èœè°±ç®€ä»‹',
    `content` text COLLATE utf8mb4_general_ci NOT NULL COMMENT 'èœè°±å†…å®¹ï¼ˆhtmlï¼‰',
    `nickname` varchar(255) COLLATE utf8mb4_general_ci NOT NULL COMMENT 'ä½œè€…æ˜µç§°',
    `recommend` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT 'æ˜¯å¦æ˜¯æ¨èï¼ˆé¦–é¡µè½®æ’­å›¾ï¼‰',
    PRIMARY KEY (`id`)
  ) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
  ```

* åˆ†ç±»è¡¨ gourmet_classify

  ```sql
  CREATE TABLE `gourmet_classify` (
    `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®ï¼Œè‡ªå¢',
    `name` varchar(255) COLLATE utf8mb4_general_ci NOT NULL COMMENT 'åˆ†ç±»åç§°',
    `parent_id` int(10) unsigned DEFAULT '0' COMMENT 'çˆ¶çº§åˆ†ç±»id',
    PRIMARY KEY (`id`),
    KEY `fore_parentid` (`parent_id`)
  ) ENGINE=InnoDB AUTO_INCREMENT=41 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
  ```

* ææ–™è¡¨ gourmet_materials

  ```sql
  CREATE TABLE `gourmet_materials` (
    `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®ï¼Œè‡ªå¢',
    `menu_id` int(11) unsigned NOT NULL COMMENT 'å¤–é”®ï¼ˆèœè°±ä¸»è¡¨çš„idï¼‰',
    `name` varchar(255) COLLATE utf8mb4_general_ci NOT NULL COMMENT 'ææ–™åç§°',
    `quantity` varchar(255) COLLATE utf8mb4_general_ci NOT NULL COMMENT 'ç”¨é‡',
    PRIMARY KEY (`id`),
    KEY `fk_menu_materials` (`menu_id`),
    CONSTRAINT `fk_menu_materials` FOREIGN KEY (`menu_id`) REFERENCES `gourmet_menu` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
  ) ENGINE=InnoDB AUTO_INCREMENT=30 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
  ```

* èœè°±æµè§ˆè®°å½•è¡¨ gourmet_menu_scan

  ```sql
  CREATE TABLE `gourmet_menu_scan` (
    `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®ï¼Œè‡ªå¢',
    `menu_id` int(10) unsigned NOT NULL COMMENT 'å¤–é”®ï¼ˆèœè°±ä¸»è¡¨çš„idï¼‰',
    `pageviews` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT 'æµè§ˆé‡',
    `favorites` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT 'æ”¶è—é‡',
    PRIMARY KEY (`id`),
    KEY `fk_menu_scan` (`menu_id`),
    CONSTRAINT `fk_menu_scan` FOREIGN KEY (`menu_id`) REFERENCES `gourmet_menu` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
  ) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
  ```

## å‰åç«¯äº¤äº’

#### ç»Ÿä¸€ä½¿ç”¨axios

**ä½¿ç”¨æ–¹å¼ï¼š**

**ä¸‹é¢ä¹Ÿæ˜¯å†™æŠ¥å‘Šç”¨çš„ï¼Œæ— éœ€æ‰§è¡Œ**

* ä½¿ç”¨npmå®‰è£…ï¼Œç›®å½•ä¸‹è¦æœ‰package.jsonï¼Œæ²¡æœ‰çš„è¯æ‰§è¡Œä¸‹é¢å‘½ä»¤

  ```
  npm init
  ```

* å®‰è£…axios

  ```
  npm i axios axios-miniprogram-adapter
  ```

* å¾®ä¿¡å¼€å‘è€…å·¥å…·ç‚¹å‡»ï¼šå·¥å…·--æ„å»ºnpmï¼Œé¡¹ç›®ä¸­å‡ºç°miniprogram_npmæ–‡ä»¶å¤¹è¡¨ç¤ºæ„å»ºæˆåŠŸï¼ï¼

#### å†™ä¸ºå·¥å…·ç±»

ä½¿ç”¨axioså¯ä»¥æå¤§çš„ç®€åŒ–åç«¯å‘èµ·è¯·æ±‚çš„æ–¹å¼ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æœåŠ¡å™¨çš„è¯·æ±‚åœ°å€æœ‰ä¸€éƒ¨åˆ†æ—¶é‡å¤çš„ï¼ˆipåœ°å€ç«¯å£ï¼‰ï¼Œå¦‚æœæ¯ä¸ªé¡µé¢éƒ½å»åˆ›å»ºaxioså¯¹è±¡ï¼Œè®¾ç½®è¯·æ±‚åœ°å€çš„è¯å¼€å‘æ•ˆç‡éå¸¸ä½ä¸‹ï¼Œå› æ­¤é¡¹ç›®ä¸­å°†axioså°è£…åˆ°å·¥å…·ç±»ä¸­ï¼Œéœ€è¦å‘èµ·è¯·æ±‚çš„é¡µé¢ä»…éœ€è¦å¼•å…¥å·¥å…·ç±»å³å¯ï¼

åœ¨**resquest**ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ª**http.js** æ–‡ä»¶ï¼ŒæŠ½ç¦»å‡ºåˆ›å»ºaxioså®ä¾‹çš„æ–¹æ³•ï¼Œä½¿ç”¨é¡µé¢ç›´æ¥å¼•ç”¨æ­¤æ–‡ä»¶å³å¯ä½¿ç”¨axios

```js
import axios from 'axios'
import mpAdapter from 'axios-miniprogram-adapter'
axios.defaults.adapter = mpAdapter

// æœåŠ¡å™¨çš„åœ°å€ è¿™éƒ¨åˆ†è¯·æ±‚åœ°å€éƒ½æ˜¯ä¸€æ ·çš„ æ‰€ä»¥æå–å‡ºæ¥
const serverIp = "http://150.158.174.106:3000/api"
// æ„å»ºaxioså®ä¾‹
const http = axios.create({
  // è®¾ç½®axioså¯¹è±¡çš„åŸºæœ¬è¯·æ±‚åœ°å€
  baseURL: serverIp

})

// å¯¼å‡ºå®ä¾‹
module.exports = {http,serverIp} 
```

**æ³¨æ„ï¼šå°ç¨‹åºè°ƒè¯•åŸºæœ¬åº“éœ€è¦è®¾ç½®ä¸ºè¾ƒæ–°çš„ç‰ˆæœ¬ï¼ˆæ­¤å¤„è®¾ç½®ä¸º 2.13.1ï¼‰**

ä½¿ç”¨ï¼š

```js
// å¯¼å…¥åˆšæ‰çš„å·¥å…·ç±»
import {http} from '../../resquent/http'
```

è¯·æ±‚ç¤ºä¾‹ï¼š

```js
// è·å–æ»‘åŠ¨è§†å›¾çš„æ•°æ®
// async å‡¡æ˜¯æ–¹æ³•å†…æœ‰awaitçš„ï¼Œæ–¹æ³•å¿…é¡»å£°æ˜ä¸ºasync è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå«æœ‰åŒæ­¥ä»£ç çš„æ–¹æ³•
  async getSwipperData(){
    // await å› ä¸ºè¯·æ±‚éƒ½æ˜¯éœ€è¦æ—¶é—´çš„ï¼Œè€Œjsåˆæ˜¯å¼‚æ­¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸‹é¢ä¸¤è¡Œä»£ç ä¸ä¸€è¡Œè°å…ˆæ‰§è¡Œï¼Œä¸ºäº†ä¿è¯responseå·²ç»è·å–åˆ°
    //  ä½¿ç”¨awaitä¿®é¥°å¯ä»¥ä¿è¯ä¸‹é¢çš„ä»£ç å¿…é¡»ç­‰å¾…æ‰§è¡Œå®Œè·åˆ°æ•°æ®æ‰èƒ½ä½¿ç”¨
    const {data:response} = await http.get('/menu/recommend')
    console.log(response)
  }
```

æ­¤å¤„ä½¿ç”¨äº† ES7 çš„ async/await è¯­æ³•æ¥è·å–å¼‚æ­¥è¯·æ±‚çš„æ•°æ®ï¼Œå°ç¨‹åºè¾ƒæ–°çš„è°ƒè¯•åŸºæœ¬åº“æ”¯æŒ ES7ï¼ˆES7 è½¬ ES5ï¼‰ è¯­æ³•ï¼Œ{data:response} ä½œç”¨æ˜¯å°†å“åº”æ•°æ®å¯¹è±¡ä¸­dataå±æ€§æ˜ å°„ä¸ºresponse

**ç†è§£**

* async è¿™ä¸ªæ–¹æ³•è¢«åŒæ­¥äº†

* await å¿…é¡»ç­‰æˆ‘æ‰§è¡Œå®Œ

* {data:response} è¿”å›çš„å¯¹è±¡é‡Œæœ‰ä¸€ä¸ªå«dataçš„å±æ€§ï¼Œæˆ‘ç”¨ä¸ªresponseæ¥æ”¶ä¸€ä¸‹ ç­‰åŒäºä¸‹é¢ä»£ç 

  ```js
  const res = await http.get('/menu/recommend')
  const response = res.data
  ```

  

## èµ„æº

#### å›¾æ ‡èµ„æº

![image-20201028194735441](https://gitee.com//lifazhan/mypics/raw/master/img/20201028194742.png)

**ä½¿ç”¨**

* å®˜ç½‘æŒ‘é€‰å®Œå›¾æ ‡åç”Ÿæˆcssä»£ç ï¼Œç²˜è´´ä¸‹é¢æ–‡ä»¶ä¸­

![image-20201012205050567](https://gitee.com//lifazhan/mypics/raw/master/img/20201012205050.png)

* éœ€è¦ä½¿ç”¨çš„é¡µé¢åœ¨å…¶cssæ–‡ä»¶ä¸­å¼•å…¥

![image-20201012205129021](https://gitee.com//lifazhan/mypics/raw/master/img/20201012205129.png)

* åœ¨htmlä¸­ä½¿ç”¨textæ ‡ç­¾æˆ–è€…viewæ ‡ç­¾ï¼Œclasså†™ä¸ºâ€œiconfont icon-userâ€å³å¯ï¼Œå…¶ä¸­iconfont å¿…é¡»æœ‰ï¼Œicon-userå¯¹åº”è¦ä½¿ç”¨å›¾æ ‡

![image-20201012205213405](https://gitee.com//lifazhan/mypics/raw/master/img/20201012205213.png)

* æ•ˆæœ

![image-20201028195230705](https://gitee.com//lifazhan/mypics/raw/master/img/20201028195230.png)

## åˆ†é¡µé¢ä»‹ç»ï¼ˆé‡ç‚¹ï¼‰

### é¦–é¡µ

#### å¸ƒå±€

![image-20201028202343282](https://gitee.com//lifazhan/mypics/raw/master/img/20201028202343.png)

é¦–é¡µä¸»è¦åˆ†ä¸ºå››ä¸ªåŒºåŸŸï¼Œåˆ†åˆ«ä¸ºæœç´¢æ ï¼Œæ¨èè§†å›¾åŒºåŸŸã€å¸¸ç”¨åˆ†ç±»åŒºåŸŸï¼Œæœ€æ–°ä½³ä½œåˆ—è¡¨åŒºåŸŸã€‚

#### åˆ†åŒºåŸŸä»‹ç»

##### æœç´¢æ 

æœç´¢æ åœ¨é¦–é¡µå’Œåˆ†ç±»é¡µé¢éƒ½æœ‰ï¼Œå› æ­¤å°†æœç´¢æ æå–å‡ºæ¥ä¸ºä¸€ä¸ªç»„ä»¶ã€‚ä½äºcomponents/serchInput ç›®å½•ä¸‹

![image-20201028202729560](https://gitee.com//lifazhan/mypics/raw/master/img/20201028202729.png)

**searchInput.jsoné…ç½®æ–‡ä»¶**

```json
{
  "component": true,
  "usingComponents": {}
}
```

"component": true è¡¨ç¤ºå½“å‰é¡µé¢æ–‡ä»¶æ—¶ä¸€ä¸ªç»„ä»¶ï¼Œè€Œä¸æ˜¯æ™®é€šçš„å¾®ä¿¡å°ç¨‹åºé¡µé¢

*"usingComponents"*: {} å¦‚æœä½¿ç”¨å…¶ä»–ç»„ä»¶åœ¨{}ä¸­å¼•å…¥



**searchInput.wxml é¡µé¢æ–‡ä»¶**

```html
<!--æœç´¢æ¡†-->
<view class="search-view">
  <navigator class="search-input" url="/pages/search/search" hover-class="navigator-hover" open-type="navigate">
    ğŸ” æœç´¢
  </navigator>
</view>

```

æ­¤å¤„çš„æœç´¢æ å¹¶éæ˜¯ä¸€ä¸ªçœŸæ­£çš„è¾“å…¥æ¡†ï¼Œè€Œæ˜¯ç”¨äº†ä¸€ä¸ªnavigatoræ ‡ç­¾ä»£æ›¿ï¼Œé€šè¿‡cssæ ·å¼æ”¹æˆæœç´¢æ¡†çš„æ¨¡æ ·ï¼Œç‚¹å‡»æ—¶ä¼šè·³è½¬åˆ°çœŸæ­£çš„æœç´¢é¡µ

**searchInput.wxss æ ·å¼æ–‡ä»¶**

```css
/**åŒ…è£¹æœç´¢æ¡†çš„æ ·å¼**/
.search-view{
  /**æœç´¢æ¡†æ–‡å­—å±…ä¸­**/
  text-align: center;
  /**æœç´¢æ¡†å¤–éƒ¨é¢œè‰²**/
  background-color: #ea5455;
  /**è°ƒæ•´æ•´ä¸ªæœç´¢æ¡†å±…ä¸­**/
  display: flex;
  justify-content: center;
}
/**æœç´¢æ¡†çš„æ ·å¼**/
.search-input{
  /* è°ƒæ•´è¾“å…¥æ¡†çš„å†…çš„å­—ä½“æ°´å¹³å’Œå‚ç›´å±…ä¸­ */
  display: flex;
  justify-content: center;
  align-items: center;
  /**è®¾ç½®å®½é«˜**/
  height: 35px; 
  width: 680rpx;
  /**èƒŒæ™¯é¢œè‰²**/
  background-color: #fff;
  /**è¾¹æ¡†æ ·å¼**/
  border: 1px solid lightgray;
  /**è¾¹æ¡†åœ†è§’**/
  border-radius: 8px;
  /**ä¸Šä¸‹è¾¹è·**/
  margin-top: 10px;
  margin-bottom: 10px;
  font-size: medium;
}
```

**searchInput.js é€»è¾‘æ–‡ä»¶**

å…¶å®æ²¡å•¥é€»è¾‘ğŸ˜‚~~

```js
// components/searchInput/searchInput.js
Component({
  /**
   * ç»„ä»¶çš„å±æ€§åˆ—è¡¨
   */
  properties: {

  },

  /**
   * ç»„ä»¶çš„åˆå§‹æ•°æ®
   */
  data: {

  },

  /**
   * ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨
   */
  methods: {

  }
})
```

å›åˆ°é¦–é¡µçš„é…ç½®æ–‡ä»¶ä¸­

**index.json é¦–é¡µé…ç½®æ–‡ä»¶**

```json
{
  "usingComponents": { "searchInput": "/components/searchInput/searchInput" }
}
```

"usingComponents": { "searchInput": "/components/searchInput/searchInput" } å¼•ç”¨åˆšæ‰ç¼–å†™çš„æœç´¢æ ç»„ä»¶ æ­¤å¤„çš„searchInput å’Œé¡µé¢ä¸­ä½¿ç”¨æ ‡ç­¾åå¯¹åº”

**index.wxml é¦–é¡µæ–‡ä»¶**

```html
 <!-- è¾“å…¥æ¡†ç»„ä»¶å¼€å§‹ ä½¿ç”¨componentsé‡Œé¢çš„è¾“å…¥æ¡†ç»„ä»¶ -->
  <searchInput></searchInput>
```

æœç´¢æ åŒºåŸŸç»“æŸ

##### æ¨èè§†å›¾åŒºåŸŸ

* æ¨èè§†å›¾åŒºåŸŸä½¿ç”¨çš„ [swiper](https://developers.weixin.qq.com/miniprogram/dev/component/swiper.html) æ»‘å—ç»„ä»¶
* æ»‘å—ç»„ä»¶é‡Œé¢æ˜¯æ¯ä¸€ä¸ªæ»‘å—é¡¹ [swiper-item](https://developers.weixin.qq.com/miniprogram/dev/component/swiper-item.html)ï¼Œéœ€è¦ä½¿ç”¨wx-foréå†æ˜¾ç¤º
* æ¯ä¸ªæ»‘å—é¡¹ç‚¹å‡»æ—¶è¦å¯ä»¥è·³è½¬åˆ°å¯¹åº”èœè°±çš„é¡µé¢ï¼Œä½¿ç”¨navigator
* æ¯ä¸ªæ»‘å—é¡¹éƒ½æ˜¯æ˜¾ç¤ºå›¾ç‰‡ï¼Œä½¿ç”¨imageæ ‡ç­¾

å› æ­¤index.wxmlä¸­çš„ç»“æ„å¦‚ä¸‹ï¼š

```html
<!-- æ»‘å—è§†å›¾ç»„ä»¶ indicator-dots æ˜¾ç¤ºå°ç‚¹ç‚¹ autoplay å¼€å¯è‡ªåŠ¨æ’­æ”¾ circular å¾ªç¯è¡”æ¥æ»‘åŠ¨ -->
    <swiper class="swiper" indicator-dots autoplay circular>
      <!-- éå†dataä¸­çš„è§†å›¾urlæ•°ç»„ æ™®é€šå­—ç¬¦æ•°ç»„ æ‰€ä»¥keyå€¼æ˜¯æœ¬èº« -->
      <block wx:for="{{swiperData}}" wx:key="item.id">
        <swiper-item>
          <navigator url="/pages/menucontent/menucontent?id={{item.id}}">
            <!-- éå†æ˜¾ç¤ºå›¾ç‰‡ srcå±æ€§ï¼šå›¾ç‰‡åœ°å€ modeå±æ€§ï¼šaspectFillç¼©æ”¾æ¨¡å¼ï¼Œä¿æŒçºµæ¨ªæ¯”ç¼©æ”¾å›¾ç‰‡ï¼Œåªä¿è¯å›¾ç‰‡çš„çŸ­è¾¹èƒ½å®Œå…¨æ˜¾ç¤ºå‡ºæ¥ã€‚ -->
            <image class="swiper-img" src="{{item.img}}" mode="aspectFill"></image>
          </navigator>
        </swiper-item>
      </block>
    </swiper>
```

é¡µé¢æ¸²æŸ“éœ€è¦æ•°æ®ï¼Œæ•°æ®éƒ¨åˆ†åœ¨index.jsæ–‡ä»¶ä¸­

é¦–å…ˆåœ¨dataå±æ€§ä¸­å®šä¹‰æ•°ç»„

```js
data: {
    // æ»‘åŠ¨è§†å›¾çš„æ•°æ®
    swiperData: []
  },
```

ç¼–å†™æ–¹æ³•ä»åç«¯è·å–æ•°æ®

```js
 // è·å–æ»‘åŠ¨è§†å›¾çš„æ•°æ®
  async getSwipperData() {
    // ä»åç«¯è·å–æ•°æ®
    const { data: response } = await http.get("/index/recommend");
    //console.log(response)
    // è·å–æ•°æ®æˆåŠŸ
    if (response.code === 1000) {
      // è®¾ç½®æ»‘åŠ¨è§†å›¾çš„æ•°æ®
      this.setData({ swiperData: response.data });
    }
  },
```

æ•°æ®è¿”å›æ ¼å¼å¦‚ä¸‹ï¼š

```json
{
  "code": 1000,
  "msg": "æ“ä½œæˆåŠŸ",
  "data": [
    {
      "id": 2,
      "img": "https://images.pexels.com/photos/5419093/pexels-photo-5419093.jpeg?auto\u003dcompress\u0026cs\u003dtinysrgb\u0026dpr\u003d1\u0026w\u003d500",
      "title": "æµ‹è¯•2",
      "introd": "è¿™æ˜¯æµ‹è¯•2çš„ç®€ä»‹",
      "nickname": "TEST",
      "recommend": true
    },
    {
      "id": 3,
      "img": "https://images.pexels.com/photos/3464543/pexels-photo-3464543.jpeg?auto\u003dcompress\u0026cs\u003dtinysrgb\u0026dpr\u003d1\u0026w\u003d500",
      "title": "æµ‹è¯•3",
      "introd": "è¿™æ˜¯æµ‹è¯•3çš„ç®€ä»‹",
      "nickname": "TEST",
      "recommend": true
    }
  ]
}
```

åœ¨é¡µé¢åŠ è½½æ—¶å°±è¦è·å–è¯¥æ•°æ®ï¼Œåœ¨é¡µé¢åŠ è½½å‡½æ•°ä¸­è°ƒç”¨

```js
 onLoad: function () {
    // è·å–æ»‘åŠ¨è§†å›¾çš„æ•°æ®
    this.getSwipperData();
  },
```

æ ·å¼æ–‡ä»¶ ç•¥



##### å¸¸ç”¨åˆ†ç±»åŒºåŸŸ



### æœç´¢é¡µ

### åˆ†ç±»é¡µ

### èœè°±è¯¦ç»†å†…å®¹é¡µ

### å‘å¸ƒ/ç¼–è¾‘é¡µ

### ä¸ªäººä¸­å¿ƒé¡µ

### ç™»å½•æˆæƒé¡µ

### æˆ‘çš„å‘å¸ƒé¡µ

### æˆ‘çš„æ”¶è—é¡µ

